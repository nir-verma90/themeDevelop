{% if layout.common-ext-js %}
  {% for js in layout.common-ext-js %}
    {% include ext-js.html js=js %}
  {% endfor %}
{% endif %}

{% if page.ext-js %}
  {% for js in page.ext-js %}
    {% include ext-js.html js=js %}
  {% endfor %}
{% endif %}

{% if page.js %}
  {% for js in page.js %}
    <script src="{{ js | relative_url }}"></script>
  {% endfor %}
{% endif %}




{% if layout.common-js %}
  {% for js in layout.common-js %}
    <script src="{{ js | relative_url }}"></script>
  {% endfor %}
{% endif %}



<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyDH2oTOn8bevio6682aIIXqngEf4qLLGh4",
    authDomain: "zuerich3d-dev.firebaseapp.com",
    databaseURL: "https://zuerich3d-dev.firebaseio.com",
    projectId: "zuerich3d-dev",
    storageBucket: "zuerich3d-dev.appspot.com",
    messagingSenderId: "501436298903",
    appId: "1:501436298903:web:6b3521aa7a5cdca9"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>
       <script>
           $(document).ready(function () {
           $('.top-nav .dmenu').hover(function () {
                   $(this).find('.sm-menu').first().stop(true, true).slideDown(150);
               }, function () {
                   $(this).find('.sm-menu').first().stop(true, true).slideUp(105)
               });
           });
        </script>
        <script>
           $().ready(function(){
             $('.slick-carousel').slick({
               arrows: true,
               centerPadding: "0px",
               dots: false,
               slidesToShow: 5,
               infinite: false,
            responsive: [{
             breakpoint: 1440,
             settings: {
               slidesToShow: 4,
               slidesToScroll: 1
             }
           },
           {
              breakpoint: 1023,
              settings: {
                 arrows: false,
                 slidesToShow: 3,
                 slidesToScroll: 1
              }
           },
           {
              breakpoint: 768,
              settings: {
                 arrows: false,
                 slidesToShow: 2,
                 slidesToScroll: 1
              }
           },
           {
              breakpoint: 576,
              settings: {
                 arrows: false,
                 slidesToShow: 1,
                 slidesToScroll: 1
              }
           }]
       });
       });


       $(document).ready(function() {
       $('.scroll-down').click (function() {
       $('html, body').animate({scrollTop: $('section#tab-feild').offset().top }, 'slow');
       return false;
       });
       });
</script>


{% if page.id %}
  {% if page.id == 'register' %}
    <script>
      $('document').ready(function(){
        $(".loginInnerPg").addClass("RegisterAddCls");
        $(".loginInnerPg").removeClass("LoginAddCls");
        $(".RegFormLg").delay(400).fadeIn();
        $(".loginFormLg").fadeOut();
      });
    </script>
  {% endif %}
{% endif %}


{% if page.id %}
  {% if page.id == 'login' %}
  <script>
    $('document').ready(function(){
      $(".loginInnerPg").addClass("LoginAddCls");
      $(".loginInnerPg").removeClass("RegisterAddCls");
      $(".RegFormLg").fadeOut();
      $(".loginFormLg").delay(400).fadeIn();
    });
  </script>
  {% endif %}
{% endif %}


{% if page.type %}
  {% if page.type == 'auth' %}
  <script>
      $('#register-form').submit(function(e){
        e.preventDefault();
        alert('register');
      });
  </script>
  <script>
      $('#login-form').submit(function(e){
        e.preventDefault();
        alert('login');
      });
  </script>

  <script type="text/javascript">
      $(document).ready(function(){
          $(".loginBg .regBtn").click(function(){
              $(".loginInnerPg").addClass("RegisterAddCls");
              $(".loginInnerPg").removeClass("LoginAddCls");
              $(".RegFormLg").delay(400).fadeIn();
              $(".loginFormLg").fadeOut();
          });
      });

      $(document).ready(function(){
          $(".loginBg .logBtn").click(function(){
              $(".loginInnerPg").addClass("LoginAddCls");
              $(".loginInnerPg").removeClass("RegisterAddCls");
              $(".RegFormLg").fadeOut();
              $(".loginFormLg").delay(400).fadeIn();
          });
      });
  </script>
  <script>
  function createNewUser(email, password, name){
    firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(function (firebaseUser) {

          updateRegisterData(email, name, firebaseUser.uid);
        })
        .catch(function (error) {
            var errorCode = error.code;
            var errorMessage = error.message;
        });
  }


  function updateRegisterData(email, name, uid){
    //push data into firestore using the uid provided

    alert('tada');

      var db = firebase.firestore();

      db.collection("users").add({
          uid: uid,
          name: name,
          email: email
      })
      .then(function(docRef) {
          console.log("Document written with ID: ", docRef.id);
      })
      .catch(function(error) {
          console.error("Error adding document: ", error);
      });
  }
  </script>


  {% endif %}
{% endif %}
